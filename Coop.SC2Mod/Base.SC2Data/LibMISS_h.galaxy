include "LibCOMI_h"

//--------------------------------------------------------------------------------------------------
// Library: MISSIONS
//--------------------------------------------------------------------------------------------------
// Preset Declarations
const int libMISS_ge_CampaignMissionGameResultType_None = 0;
const int libMISS_ge_CampaignMissionGameResultType_Victory = 1;
const int libMISS_ge_CampaignMissionGameResultType_Defeat = 2;
const int libMISS_ge_ObjectivePingType_Primary = 0;
const int libMISS_ge_ObjectivePingType_Secondary = 1;
const int libMISS_ge_ObjectivePingType_POI = 2;
const int libMISS_ge_UnitCategory_StructureMain = 0;
const int libMISS_ge_UnitCategory_StructureSupply = 1;
const int libMISS_ge_UnitCategory_StructureRefinery = 2;
const int libMISS_ge_UnitCategory_StructureProductionLight = 3;
const int libMISS_ge_UnitCategory_StructureProductionHeavy = 4;
const int libMISS_ge_UnitCategory_StructureProductionAir = 5;
const int libMISS_ge_UnitCategory_StructureUpgradesLight = 6;
const int libMISS_ge_UnitCategory_StructureUpgradesHeavy = 7;
const int libMISS_ge_UnitCategory_StructureUpgradesAir = 8;
const int libMISS_ge_UnitCategory_StructureTechLight = 9;
const int libMISS_ge_UnitCategory_StructureTechHeavy = 10;
const int libMISS_ge_UnitCategory_StructureTechAir = 11;
const int libMISS_ge_UnitCategory_StructureDefense = 12;
const int libMISS_ge_UnitCategory_Worker = 13;
const int libMISS_ge_UnitCategory_Detector = 14;
const int libMISS_ge_UnitCategory_Transport = 15;
const int libMISS_ge_UnitCategory_Combat = 16;
const int libMISS_ge_UnitCategory_CombatDetector = 17;
const int libMISS_ge_UnitCategory_CombatSupport = 18;
const int libMISS_ge_UnitCategory_CombatGroundLightA = 19;
const int libMISS_ge_UnitCategory_CombatGroundLightB = 20;
const int libMISS_ge_UnitCategory_CombatGroundLightC = 21;
const int libMISS_ge_UnitCategory_CombatGroundLightD = 22;
const int libMISS_ge_UnitCategory_CombatGroundCaster = 23;
const int libMISS_ge_UnitCategory_CombatGroundHeavyA = 24;
const int libMISS_ge_UnitCategory_CombatGroundHeavyB = 25;
const int libMISS_ge_UnitCategory_CombatGroundHeavyC = 26;
const int libMISS_ge_UnitCategory_CombatGroundHeavyD = 27;
const int libMISS_ge_UnitCategory_CombatGroundUltimate = 28;
const int libMISS_ge_UnitCategory_CombatAirLightA = 29;
const int libMISS_ge_UnitCategory_CombatAirLightB = 30;
const int libMISS_ge_UnitCategory_CombatAirHeavyA = 31;
const int libMISS_ge_UnitCategory_CombatAirHeavyB = 32;
const int libMISS_ge_UnitCategory_CombatAiirCaster = 33;
const int libMISS_ge_UnitCategory_CombatAirUltimate = 34;
const int libMISS_ge_Priority_AVOID = 0;
const int libMISS_ge_Priority_LOW = 1;
const int libMISS_ge_Priority_MEDIUM = 2;
const int libMISS_ge_Priority_HIGH = 3;
const int libMISS_ge_Priority_CRITICAL = 4;
const int libMISS_ge_ExpansionRockType_TownHallRock = 0;
const int libMISS_ge_ExpansionRockType_GeyserRock = 1;

// Constants
const int libMISS_gv_cMC_CoopAI_MaxPingCount = 25;
const fixed libMISS_gv_cM_CoopAI_PingCombineDist = 20.0;
const int libMISS_gv_lOWEST_VITALITY = -2;
const int libMISS_gv_rANDOM_OBJECTIVE = -1;
const int libMISS_gv_pLAYERS_BASE = 0;
const fixed libMISS_gv_campaignObjectiveDelay = 2.0;

// Variable Declarations
int[16] libMISS_gv_cM_EndMissionResult;
int libMISS_gv_cM_GameOverResult;
point libMISS_gv_lastEventPoint;
bool libMISS_gv_cM_CoopAI_WavePingShowAll;
bool[libCOMI_gv_cMC_CoopAI_HighestPlayerIndex + 1][2] libMISS_gv_cM_CoopAI_WaveShowPing;
bool[libCOMI_gv_cMC_CoopAI_HighestPlayerIndex + 1][2] libMISS_gv_cM_CoopAI_DontPingWaves;
unitgroup libMISS_gv_cM_CoopAI_DontPingUnits;
int[libMISS_gv_cMC_CoopAI_MaxPingCount + 1] libMISS_gv_cM_CoopAI_CombinedPing;
int[libMISS_gv_cMC_CoopAI_MaxPingCount + 1] libMISS_gv_cM_CoopAI_CombinedPing_APlayer;
int[libMISS_gv_cMC_CoopAI_MaxPingCount + 1] libMISS_gv_cM_CoopAI_CombinedPing_AWave;
int[libMISS_gv_cMC_CoopAI_MaxPingCount + 1] libMISS_gv_cM_CoopAI_CombinedPing_BPlayer;
int[libMISS_gv_cMC_CoopAI_MaxPingCount + 1] libMISS_gv_cM_CoopAI_CombinedPing_BWave;
unitgroup[libMISS_gv_cMC_CoopAI_MaxPingCount + 1] libMISS_gv_cM_CoopAI_PingGroups;
int[libMISS_gv_cMC_CoopAI_MaxPingCount + 1] libMISS_gv_cM_CoopAI_PingGroupPing;
playergroup libMISS_gv_cM_CoopAI_DontPingPlayers;
region libMISS_gv_amon1Base2;
region libMISS_gv_amon2Base2;
region libMISS_gv_allyBase2;
region libMISS_gv_allyReveal2;
region libMISS_gv_ally2Base2;
region libMISS_gv_ally2Reveal2;
region libMISS_gv_allyClear12;
region libMISS_gv_allyClear22;
region libMISS_gv_allyClear32;
region libMISS_gv_allyClear42;
region libMISS_gv_allyClear52;
region libMISS_gv_amonClear12;
region libMISS_gv_amonClear22;
point libMISS_gv_amon1Outpost1;
point libMISS_gv_amon1Squad1;
point libMISS_gv_amon1Squad4LargestAir;
int libMISS_gv_wave1;
int libMISS_gv_wave2;
int libMISS_gv_evil11;
int libMISS_gv_evil12;
point libMISS_gv_amon1Start;
point libMISS_gv_amon1Start2;
point libMISS_gv_amon1Start21;
point libMISS_gv_amon2Start;
point libMISS_gv_amon2Start2;
point libMISS_gv_ally1Start;
point libMISS_gv_ally1Start1;
point libMISS_gv_ally1Expansion;
point libMISS_gv_ally1Expansion21;
point libMISS_gv_ally2Start;
point libMISS_gv_ally2Expansion;
point libMISS_gv_ally3Start;
point libMISS_gv_ally3Expansion;
point libMISS_gv_ally4Start;
point libMISS_gv_ally4Expansion;
point libMISS_gv_ally5Start;
point libMISS_gv_ally5Expansion;
int libMISS_gv_missionTask;
int libMISS_gv_amonTask;
unitgroup libMISS_gv_cM_CoopAI_AttackForce_Transports;
region libMISS_gv_amon1Base1;
region libMISS_gv_amon2Base1;
region libMISS_gv_allyBase;
region libMISS_gv_allyReveal;
region libMISS_gv_ally2Base;
region libMISS_gv_ally2Reveal;
region libMISS_gv_allyClear1;
region libMISS_gv_allyClear2;
region libMISS_gv_allyClear3;
region libMISS_gv_allyClear4;
region libMISS_gv_allyClear5;
region libMISS_gv_amonClear1;
region libMISS_gv_amonClear2;
region libMISS_gv_cC_NoSpawnRegion;
region libMISS_gv_inactiveZone;
point[16] libMISS_gv_playerStartPosition;
playergroup libMISS_gv_vU_Enemies;
playergroup libMISS_gv_vU_Allies;
playergroup libMISS_gv_vU_EnemyPlayers;
playergroup libMISS_gv_vU_EnemyAI;
playergroup libMISS_gv_vU_AlliedCommanders;
playergroup libMISS_gv_vU_HumanPlayers;
playergroup libMISS_gv_vU_SlotsPlayers;
playergroup libMISS_gv_vU_SlotsEnemy;
playergroup libMISS_gv_vU_AllyNPC;
playergroup libMISS_gv_vU_BonusNPC;
playergroup libMISS_gv_vU_EnemyNPC;
playergroup libMISS_gv_vU_NeutralNPC;
playergroup libMISS_gv_vU_HostileNPC;
int libMISS_gv_voidIncomeMinerals;
int libMISS_gv_voidIncomeVespene;
playergroup libMISS_gv_tEAM1_PLAYERS;
playergroup libMISS_gv_tEAM2_PLAYERS;
string libMISS_gv_enemyFaction;
playergroup libMISS_gv_all;
int libMISS_gv_vU_PLAYER_NEUTRAL;
int libMISS_gv_vU_PLAYER_HOSTILE;
int libMISS_gv_selectedDifficulty;

// Function Declarations
int libMISS_gf_DifficultyValueInt4 (int lp_difficulty, int lp_beginner, int lp_normal, int lp_advanced, int lp_expert);
string libMISS_gf_GetEnemyFaction ();
void libMISS_gf_MoveCameraForAllPlayers (point lp_point, fixed lp_time);
void libMISS_gf_EndCampaignMission (int lp_type);
bool libMISS_gf_GameIsOver ();
void libMISS_gf_BeforeFanfare (int lp_type);
void libMISS_gf_AfterFanfare (int lp_type);
void libMISS_gf_ApplyCameraForAllPlayers (camerainfo lp_camera, fixed lp_time);
playergroup libMISS_gf_GetAlliedCommandersPlayers ();
void libMISS_gf_EnableDisableCoopAIWavePings (bool lp_enableDisable);
void libMISS_gf_EnableDisableCoopAIWavePing (wave lp_attackWave, bool lp_enableDisable);
void libMISS_gf_EnableDisableCoopAIPlayerAttackPings (playergroup lp_players, bool lp_enableDisable);
bool libMISS_gf_CM_CoopAI_PingWorthyUnit (unit lp_pingableUnit);
bool libMISS_gf_VU_isPingException (string lp_unit);
bool libMISS_gf_UnitisValidforanAttackWavePing (unit lp_pingableUnit);
int libMISS_gf_PingTypeFromObjectiveType (bool lp_objectiveType);
void libMISS_gf_AttentionGrabbingObjectivePing (point lp_pingLocation);
void libMISS_gf_CreateObjectivePingAC (int lp_objectiveType, point lp_position, text lp_tooltip);
void libMISS_gf_PingMinimapCampaign (playergroup lp_players, point lp_pos, fixed lp_dur, color lp_color);
void libMISS_gf_DestroyPingCoop (int lp_ping);
void libMISS_gf_CreatePingFacingAngleCoop (playergroup lp_players, point lp_position, fixed lp_angle, string lp_model, color lp_color, fixed lp_duration);
void libMISS_gf_CreatePingWithPointFacingCoop (playergroup lp_players, string lp_model, point lp_position, color lp_color, fixed lp_duration, int lp_playerId);
void libMISS_gf_CreatePingCoop (playergroup lp_players, string lp_model, point lp_position, color lp_color, fixed lp_duration);
void libMISS_gf_ShowHidePingCoop (int lp_ping, bool lp_visible);
void libMISS_gf_CreateAlertAtPointCampaign (string lp_alertType, text lp_text, string lp_icon, point lp_point);
void libMISS_gf_CreateAlertAtUnitCampaign (string lp_alertType, text lp_text, string lp_icon, unit lp_unit);
playergroup libMISS_gf_GetEnemyPlayers ();
playergroup libMISS_gf_GetAlliesPlayers ();
playergroup libMISS_gf_GetEnemyAIPlayers ();
void libMISS_gf_AddAlliedCommanderPlayer (int lp_player);
string libMISS_gf_CoopAIUnitCategory (int lp_category, int lp_player);
unitgroup libMISS_gf_FactionUnitsbyCategory (int lp_category, int lp_player, string lp_faction);
bool libMISS_gf_IsUnitfromFactionCategory (int lp_category, string lp_unitType, string lp_faction);
void libMISS_gf_StoreStringForTask (int lp_unit, string lp_index, string lp_actor);
void libMISS_gf_InitCoopTasks ();
void libMISS_gf_TaskCreateRevealersCoop (int lp_task, playergroup lp_players, region lp_region);
void libMISS_gf_TaskDestroyRevealersCoop (int lp_task);
unitgroup libMISS_gf_LastCreatedCoopAttackForce ();
void libMISS_gf_CreateCoopDropForceinTransportsatLocationandWaitforthemtospawn (int lp_playerA, int lp_playerB, int lp_resourceSize, int lp_techLevel, point lp_spawnLocation, string lp_transportType);
unitgroup libMISS_gf_LastCreatedCoopAttackForceTransports ();
void libMISS_gf_AmonPlayersWave (unitgroup lp_units);
void libMISS_gf_DropPodWarpInUnitGroup (unitgroup lp_dropPodUnits, point lp_dropLocation);
void libMISS_gf_CM_CoopAI_AttackForce_DropTerran (int lp_player, unitgroup lp_dropGroup, point lp_dropLocation);
void libMISS_gf_CM_CoopAI_AttackForce_DropZerg (int lp_player, unitgroup lp_dropGroup, point lp_dropLocation);
void libMISS_gf_CM_CoopAI_AttackForce_DropProtoss (unitgroup lp_dropGroup, point lp_dropLocation);
unitgroup libMISS_gf_CM_CoopAI_CreateDropAttack_Terran (int lp_player, unitgroup lp_attackGroup, point lp_dropLocation);
unitgroup libMISS_gf_CM_CoopAI_CreateDropAttack_Zerg (int lp_player, unitgroup lp_attackGroup, point lp_dropLocation);
unitgroup libMISS_gf_CM_CoopAI_CreateDropAttack_Protoss (int lp_player, unitgroup lp_dropGroup, point lp_dropLocation);
void libMISS_gf_CM_CoopAIPlayer_FakeWarpIn2 (unit lp_unit);
void libMISS_gf_CM_CoopAI_CreateDropAttack_ProtossCleanup (unit lp_pylon, unit lp_superWarpGate);
void libMISS_gf_CreateCoopAttackForceatLocationandWaitforthemtospawn2 (int lp_playerA, int lp_playerB, int lp_resourceSize, int lp_techLevel, point lp_spawnLocation, bool lp_dropWarpin);
void libMISS_gf_AddAttackForceWaypoint (point lp_waypoint, bool lp_useTransport);
void libMISS_gf_TaskAttackWaves (int lp_task, fixed lp_delayMinutes, string lp_routes);
unit libMISS_gf_RandomPriorityTarget ();
string libMISS_gf_BestAttackWaveRoute (string lp_spawns);
void libMISS_gf_Harass (int lp_target, fixed lp_delay, int lp_size, int lp_tech, string lp_routes);
void libMISS_gf_TaskSetPriorityTarget (int lp_task, unit lp_unit, int lp_priority);
void libMISS_gf_TaskSetPriorityTargets (int lp_task, unitgroup lp_units, int lp_priority);
unit libMISS_gf_TaskGetPriorityTarget (int lp_task, int lp_target);
unitgroup libMISS_gf_GetResourcesNearPoint (point lp_point, fixed lp_radius, int lp_type);
void libMISS_gf_AddRegionByNameIfExists (region lp_sourceRegion, string lp_targetRegionName);
void libMISS_gf_AddRegionIfExists (region lp_sourceRegion, region lp_targetRegion);
void libMISS_gf_RevealAreaforPlayerGroup (region lp_visibilityRegion, playergroup lp_player);
void libMISS_gf_PreventSpawningInRegion (region lp_region);
bool libMISS_gf_CC_SpawnAllowedAtPoint (point lp_spawnPoint);
region libMISS_gf_GetExpansionZone ();
region libMISS_gf_GetRevealZone (int lp_team);
region libMISS_gf_GetIgnoreZone ();
region libMISS_gf_GetSafetyZone ();
region libMISS_gf_GetSleepZone ();
void libMISS_gf_TaskPlayTransmission (int lp_taskIndex, string lp_id);
void libMISS_gf_TaskPlayTransmissionOption (int lp_taskIndex, int lp_index);
void libMISS_gf_TaskPlayTransmissionGroup (int lp_taskIndex, int lp_index);
void libMISS_gf_TaskPlayTransmissionChain (int lp_taskIndex, int lp_index);
point libMISS_gf_GetPlayerStartPosition (int lp_player);
point libMISS_gf_GetAllyStartPosition (int lp_player, int lp_index, int lp_mode);
point libMISS_gf_GetAllyExpansionPosition (int lp_player, int lp_index, int lp_mode);
point libMISS_gf_GetAmonStartPosition (int lp_player, int lp_index, int lp_mode);
point libMISS_gf_GetAmonExpansionPosition (int lp_player, int lp_index, int lp_mode);
void libMISS_gf_InitAmon ();
void libMISS_gf_BasicInitialization ();
void libMISS_gf_CreateAmonRefineries ();
void libMISS_gf_DoodadsReplacement (string lp_race, string lp_raceObjects, region lp_region);
void libMISS_gf_CreateExpansionUnitsForPlayer (int lp_player, point lp_location);
void libMISS_gf_CreateSplatAtPoint (point lp_location, string lp_actorData);
void libMISS_gf_SetStartingPointsAndCreateStartingUnits ();
void libMISS_gf_RemoveOptionalUnits ();
void libMISS_gf_ReplaceFactionUnits ();
void libMISS_gf_DeactivateInactiveZoneBullies ();
string libMISS_gf_GetUnitRace (unit lp_unit);
playergroup libMISS_gf_GetTeammates (int lp_player);
point libMISS_gf_CM_NearbyGroundPathablePoint (point lp_initialDropPoint, fixed lp_distanceOffsetMin, fixed lp_distanceOffsetMax);
playergroup libMISS_gf_GetHumanPlayers ();
int libMISS_gf_GetAlliedPlayer (int lp_slot);
void libMISS_gf_CreateWarpInEffect (unit lp_unit);
fixed libMISS_gf_ExpansionRockLife (int lp_rockType);
int libMISS_gf_EnemyPlayerColor ();
int libMISS_gf_AllyPlayerColor ();
void libMISS_gf_SetAllianceOneWayCoop (int lp_sourcePlayer, int lp_targetPlayer, int lp_alliance);
playergroup libMISS_gf_GetEnemyHumanPlayers ();
int libMISS_gf_DifficultyValueInt3 (int lp_difficulty, int lp_beginner, int lp_normal, int lp_advanced, int lp_expert);
void libMISS_gf_SetUnitInfoTextCampaign (unit lp_unit, text lp_info, text lp_tip, text lp_subTip);
string libMISS_gf_GetPlayerRaceVO (int lp_player);
playergroup libMISS_gf_HumanPlayers ();
fixed libMISS_gf_ResourcesRadius ();
fixed libMISS_gf_SafetyRadius ();
unit libMISS_gf_GetLowestVitalityUnitfromUnitGroup (unitgroup lp_canidates);
string libMISS_gf_GetCommanderUserDataInstance (string lp_commander);
void libMISS_gf_PlayersandAllienceSettings ();
void libMISS_gf_SetPlayerGroupAlliance (playergroup lp_players, int lp_alliance);
void libMISS_gf_AddUnitsFromNamedRegionToUnitGroup (string lp_region, unitgroup lp_units);
void libMISS_gf_AddNamedRegionToRegion (string lp_regionToAdd, region lp_region);
unitgroup libMISS_gf_GetUnitsFromNamedRegion (string lp_region);
void libMISS_gf_RemoveUnit (unit lp_unit);
void libMISS_gf_RemoveUnitsInUnitGroup (unitgroup lp_unit);
fixed libMISS_gf_UnitCreepRadius (string lp_unit);
int libMISS_gf_FactionTownHallsCountForPlayer (string lp_faction, int lp_player);
void libMISS_gf_RegisterPlayers ();
void libMISS_gf_RegisterAvailableFactions ();
void libMISS_gf_InitVO ();
void libMISS_gf_PlaceTerrazineTank (point lp_point);
void libMISS_gf_PlaceTerrazineNodes (string lp_spawns);
void libMISS_gf_BelshirEscortTask (fixed lp_delay, int lp_goal, int lp_dontLetDie);
void libMISS_gf_ProtectBots (int lp_limit);
void libMISS_gf_ProtectTerrazineTank ();
void libMISS_gf_BEWave (fixed lp_delayMin);
void libMISS_gf_BEHarvester (int lp_park, int lp_node);
void libMISS_gf_BEWhales ();
void libMISS_gf_PlaceWhales (string lp_spawns);
void libMISS_gf_BEWhale (int lp_prisonIndex, fixed lp_delayMinutes);

// Trigger Declarations
trigger libMISS_gt_DefeatBaseDead;
trigger libMISS_gt_CM_CampaignMissionIntroZoomIn;
trigger libMISS_gt_CM_CoopAI_AttackWavePingManager;
trigger libMISS_gt_VoidPingSound;
trigger libMISS_gt_TaskCleanUpCoop;
trigger libMISS_gt_AttacksController;
trigger libMISS_gt_BaseTargetAttack;
trigger libMISS_gt_AttackDefaultVOResponse;
trigger libMISS_gt_DefaultMissionWavesTechProgression;
trigger libMISS_gt_DefaultMissionWavesSizeProgression;
trigger libMISS_gt_PriorityTargetAttack;
trigger libMISS_gt_TaskPlayTransmissionOption;
trigger libMISS_gt_VoidIncome;
trigger libMISS_gt_VoidIncomeIncrease;
trigger libMISS_gt_AmonGameplay;
trigger libMISS_gt_AmonChangeOwner;
trigger libMISS_gt_InitialExploration;
trigger libMISS_gt_ReplaceDoodads;
trigger libMISS_gt_Test;
trigger libMISS_gt_Scenario;
trigger libMISS_gt_BEEnemyHarass;
trigger libMISS_gt_BEEnemyReinforcements;
trigger libMISS_gt_BEEscortStart;
trigger libMISS_gt_BEEscortProgressHarvestersWaveFinished;
trigger libMISS_gt_BEEscortCompletedLastHarvesterWaveFinished;
trigger libMISS_gt_BEScoreCalculateHarvesterDamage;
trigger libMISS_gt_BEPrimaryBotDestroyedWarning;
trigger libMISS_gt_BEPrimaryBotDestroyedDefeat;
trigger libMISS_gt_BEPrimaryBotCounterIncrement;
trigger libMISS_gt_BETankDestroyedDefeat;
trigger libMISS_gt_BEWaveStartGeysersActivates;
trigger libMISS_gt_BEHarvesterController;
trigger libMISS_gt_BEHarvesterUnderAttack;
trigger libMISS_gt_BEHarvesterOnDestroy;
trigger libMISS_gt_BWStart;
trigger libMISS_gt_BWStartVO;
trigger libMISS_gt_BWUpdate;
trigger libMISS_gt_BWTimerExpiredFail;
trigger libMISS_gt_BWPrisonAttacked;
trigger libMISS_gt_BWPrisonDestroyedComplete;

// Library Initialization
void libMISS_InitVariables ();

